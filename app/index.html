<!doctype html>
<html lang="en" ng-app="ictApp">
<head>
    <meta charset="utf-8">
    <title>ICT</title>
    <link href="img/logo/ict_logo_29x29.png" rel="icon" />

    <link rel="stylesheet" type="text/css" href="css/jquery-ui-1.11.0.custom/jquery-ui.css"/>
    <link rel="stylesheet" href="css/ict/reset.css">
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css">
    <link rel="stylesheet" href="bower_components/angular-gridster/dist/angular-gridster.min.css" />
    <link rel="stylesheet" href="css/ict/stylesheet_global.css">
    <link rel="stylesheet" href="css/ict/stylesheet_tbar.css">
    <link rel="stylesheet" href="css/ict/stylesheet_header.css">

    <script src="js/libs/jquery-1.11.0.js"></script>
    <script src="js/libs/jquery-ui-1.10.4.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/javascript-detect-element-resize/jquery.resize.js"></script>
    <script src="bower_components/angular-gridster/dist/angular-gridster.min.js"></script>
    <script src="js/init.js"></script>
    <script src="js/Sector.js"></script>
    <script src="js/Unit.js"></script>
    <script src="js/Action.js"></script>
    <script src="js/controllers.js"></script>
    <script src="js/unique.js"></script>
    <script src="js/sector_units.js"></script>
    <script src="version.js"></script>
</head>
<body>

<div id="ict_header" ng-controller="HeaderContainer">
    <div id="time" class="time_lg header_item">00:00</div>
    <img id="title_icon" class="header_item" src="img/logo/ict_logo_100x100.png"/>
    <button id="dispatched_units_btn"
            class="header_item button"
            ng-click="showUnitsDlgForDispUnits()">
        <div>Dispatched</div>
        <div>Units</div>
    </button>
    <button id="upgrade_btn"
            class="header_item button"
            ng-click="showUpgradeDlg()">Upgrade</button>

    <div id="header_row2" class="header_row">
        <div class="dialog_vertical_align_cell">
            <button
                    id="osr_header_btn"
                    class="header_item button"
                    ng-click="showOsrDlg()">
                <div>OSR</div>
                <div id="osr_btn_perccomplete">(0% Complete)</div>
            </button>
            <button id="objectives_header_btn"
                    class="header_item button"
                    ng-click="showObjectivesDlg()">
                <div>Objectives</div>
                <div id="objectives_btn_perccomplete">(0% Complete)</div>
            </button>
            <button id="iap_btn"
                    class="header_item button"
                    ng-click="showIapDlg()">IAP</button>
        </div>
    </div>

    <div id="header_row3" class="header_row">
        <!--<div id="cmd_term_btn" class="disabled header_item button">-->
            <!--<img class="terminate_icon" src="images/terminate.png"/>-->
            <!--<div>Command</div>-->
            <!--<div>Terminated</div>-->
        <!--</div>-->
        <button id="report_btn" class="header_item button">
            <!--<img class="report_icon" src="images/report.png"/>-->
            <div>Time</div>
            <div>Report</div>
        </button>
        <button id="sectorreport_btn" class="header_item button">
            <!--<img class="report_icon" src="images/report.png"/>-->
            <div>Sector Report</div>
        </button>
    </div>
</div><!-- ict_header-->

<div id="top_header_container">
    <button class="top_header_btn button_top button"><img class="top_header_btn_icon" src="img/icons/medical.png"/></button>
    <button class="top_header_btn button_top button"><img class="top_header_btn_icon" src="img/icons/plane.png"/></button>
    <button class="top_header_btn button_top button"><img class="top_header_btn_icon" src="img/icons/hazmat.png"/></button>
    <button class="top_header_btn button_top button"><img class="top_header_btn_icon" src="img/icons/water.png"/></button>
    <button class="top_header_btn button_top button"><img class="top_header_btn_icon" src="img/icons/trench.png"/></button>
    <button class="top_header_btn button_top button"><img class="top_header_btn_icon" src="img/icons/mountain.png"/></button>
    <button class="top_header_btn button_top button"><img class="top_header_btn_icon" src="img/icons/palm.png"/></button>
    <button class="top_header_btn button_top button"><img class="top_header_btn_icon" src="img/icons/structure.png"/></button>
    <button class="top_header_btn button_top button"><img class="top_header_btn_icon" src="img/icons/confined.png"/></button>

    <button id="mode_btn" class="offensive_btn button_top button">OFFENSE</button>
    <div class="clear_float"></div>
</div>
<div id="top_header_mayday_container">
    <button id="mayday_btn" class="button_top button">MAYDAY</button>
</div>

<div id="tbar_container" ng-controller="TbarContainer">
    <div gridster="gridsterOpts">
        <tbar gridster-item="item" ng-repeat="sector in tbar_sectors">
            <div class="tbar_title_container">
                <button ng-disabled="!sector.parAvailable"
                        class="par-btn sector_toprow_btn"
                        ng-class="{glowlightgreen: sector.haspar, button_disabled:!sector.parAvailable}"
                        ng-click="showParDlg(sector)">PAR</button>
                <button class="sector_name_btn sector_toprow_btn" ng-click="showSectorNameDlg(sector)">
                    <table>
                        <tr>
                            <td class="tbar_title_dir_td">{{sector.sector_dir}}</td>
                            <td class="tbar_title_td">{{sector.name}}</td>
                            <td class="tbar_title_num_td">{{sector.sector_num}}</td>
                        </tr>
                    </table>
                </button>
                <button class="bnch-btn sector_toprow_btn" ng-click="showBnchDlg()">
                    <!--<span class="benchmarks_icon">-->
                        <!--<img class="benchmark_bar_img_1 benchmark_bar_img" src="img/bnch_bar_black.png"/>-->
                        <!--<img class="benchmark_bar_img_2 benchmark_bar_img" src="img/bnch_bar_black.png"/>-->
                        <!--<img class="benchmark_bar_img_3 benchmark_bar_img" src="img/bnch_bar_black.png"/>-->
                        <!--<img class="benchmark_bar_img_4 benchmark_bar_img" src="img/bnch_bar_black.png"/>-->
                    <!--</span>-->
                    BNCH
                </button>
                <div class="clear_both"></div>
            </div>


            <div class="clear_both"></div>

            <div class="unit_col_left unit_col tbar_col_left_div tbar_col_div">
                <!--<button class="unit_move_cancel_btn">Cancel</button>-->
                <button class="unit_add_btn" ng-click="showUnitsDlg(sector)">+Unit</button>
                <div class="clear_both"></div>
                <div class="left_scroll_pane scroll-pane">
                    <div ng-repeat="unit in sector.units">
                            <button class="personnel_tbar_btn personnel_btn"
                                    ng-click="showUnitOptionsDlg(unit)">{{unit.par}}</button>
                        <button class="psi_tbar_btn psi_btn"
                                ng-click="showUnitOptionsDlg(unit)"
                                ng-class="{psi_red:unit.psi<1500, psi_yellow:unit.psi<3000&&unit.psi>=1500, psi_green:unit.psi>=3000}"
                                ng-if="sector.hasPsiBtn">{{unit.psi}}</button>
                        <button class="unit_tbar_btn unit_btn"
                                ng-class="{btn_smtext: unit.name.length>5, btn_medtext: unit.name.length>4}">
                            {{unit.name}}
                        </button>
                    </div>
                </div>
            </div>

            <div class="action_col_right tbar_col_right_div tbar_col_div"
                 ng-if="sector.hasActions">
                <button class="acct_unit_btn"
                        ng-click="showUnitsDlgForAcct(sector)"
                        ng-if="sector.hasAcctBtn">
                            {{sector.acctUnit.name}}
                        </button>
                <button class="action_add_btn" ng-click="showActionsDlg(sector)">+Action</button>
                <div class="clear_float"></div>
                <div class="right_scroll_pane scroll-pane">
                    <div ng-repeat="action in sector.actions">
                        <button class="action_btn"
                                ng-class="{font_red:action.is_warning}">
                            {{action.name}}
                        </button>
                    </div>
                </div>
            </div>
        </tbar>
    </div>
</div>


<dialog id="sector_name_dlg" title="Sectors" ng-controller="SectorNamesDlg">
    <button
            class="sector_numdir_btn"
            ng-repeat="sector_dir in sector_dir_btns"
            ng-class="{glow_orange:selectedSector.sector_dir=='{{sector_dir.tbar}}'}"
            ng-click="setDir(sector_dir)">{{sector_dir.dialog}}</button>
    <div id="sector_num_container">
        <button
                class="sector_numdir_btn"
                ng-repeat="sector_num in sector_num_btns"
                ng-class="{glow_orange:selectedSector.sector_num=='{{sector_num}}'}"
                ng-click="setNum(sector_num)">{{sector_num}}</button>
    </div>
    <div class="clear_both"></div>
    <div id="sector_name_dlg_grid_container" class="grid">
        <div class="grid_item_1_4" ng-repeat="catalog_sector in catalog_sectors">
            <button
                    class="dlg_sector_name_btn sector_name_btn"
                    ng-class="{button_hidden: catalog_sector.name=='', glowlightgreen: tbar_sectors.findSectorByName(catalog_sector.name)>-1}"
                    ng-click="selectSector(catalog_sector)">
                {{catalog_sector.name}}
                <img class="clock_icon"
                     ng-if="catalog_sector.hasClock"
                     src="img/clock.png"/>
            </button>
        </div>
    </div>
</dialog>

<dialog id="par-dlg" title="Sector PAR" ng-controller="ParDlg">
    <div class="par_dlg_row">
        <button class="par_sector_btn sector_name_btn">{{selectedSector.name}}</button>
    </div>
    <div class="par_dialog_unit" ng-repeat="unit in selectedSector.units">
        <table>
            <tr>
                <td class="par_dlg_left_col">
                    <button class="personnel_dlg_btn personnel_btn">{{unit.par}}</button>
                    <button class="psi_dlg_btn psi_btn"
                            ng-class="{psi_red:unit.psi<1500, psi_yellow:unit.psi<3000&&unit.psi>=1500, psi_green:unit.psi>=3000}">{{unit.psi}}</button>
                    <button class="unit_btn">{{unit.name}}</button>
                    <button class="mayday_par_btn">Mayday</button>
                </td>
                <td>
                    <button class='par_person_btn par_dialog_btn'
                            ng-repeat="i in [] | unitPar:unit.par">Firefighter</button>
                </td>
            </tr>
        </table>
    </div>
</dialog>

<dialog id="bnch-dlg" title="Benchmarks" ng-controller="BnchDlg"></dialog>

<dialog id="unit-info-dlg" title="Unit"></dialog>

<dialog id="units_dlg" title="Units" ng-controller="UnitsDlg">
    <div id="dispatched_units_div">
        <div id="title_dispatched_units_div">Dispatched Units</div>
        <div id="units_dispatched_units_div">
            <button class="unit_btn"
                    ng-repeat="unit in dispatechedUnits"
                    ng-click="selectDispatchedUnit(unit)">
                {{unit.name}}
            </button>
            <div id="units_dispatched_units_div_clear_float" class="clear_float"></div>
        </div>
    </div>
    <table>
        <tr>
            <td></td>
            <td>
                <button class="unit_city_btn"
                        ng-repeat="city in cities"
                        ng-click="selectCity(city)"
                        ng-class="{glowlightgreen:selected_city==city}">
                    {{city.name}}
                </button>
            </td>
        </tr>
        <tr>
            <td style="width:80px">
                <button class="unit_type_btn"
                        ng-repeat="type in selected_city.types"
                        ng-click="selectType(type)"
                        ng-class="{glowlightgreen:selected_type_name==type.name}">
                    {{type.name}}
                </button>
            </td>
            <td>
                <div class="unit_dlg_units_container">
                    <div class="type_row_for_unit_btns"
                         ng-repeat="type in selected_city.types"
                         ng-if="selected_type_name=='' || selected_type_name==type.name">
                        <button class="unit_dlg_btn unit_btn"
                                ng-repeat="unit in type.units"
                                ng-click="selectUnit(unit)"
                                ng-class="{glowlightgreen: tbar_sectors.unitInSectors().findSectorByName(unit.name)>-1, btn_smtext: unit.name.length>5, btn_medtext: unit.name.length>4}">
                            {{unit.name}}
                        </button>
                    </div>
                </div>
            </td>
        </tr>
    </table>

</dialog>

<dialog id="actions_dlg" title="Actions" ng-controller="ActionsDlg">
    <div class="action_type_dialog_header grid"
         ng-repeat="catalog_action_type in catalog_action_types">
        <div class="grid_item_1_4" ng-repeat="catalog_action in catalog_action_type.actions">
            <button class="btn_xsmtext action_btn"
                    ng-click="selectAction(catalog_action)"
                    ng-class="{glowlightgreen: selectedSector.actions.contains(catalog_action), font_red:catalog_action.is_warning}">
                {{catalog_action.name}}
            </button>
        </div>
    </div>
</dialog>

<!-- Upgrade Dialog -->
<dialog id="upgrade_dlg" title="Upgrade" ng-controller="UpgradeDlg">
    <div id="upgrade_left_col">
        <button id="enroute_upgrade_btn" class="left_upgrade_btn upgrade_btn">En Route</button>
        <button id="onscene_upgrade_btn" class="left_upgrade_btn upgrade_btn">On Scene</button>
    </div>
    <div id="upgrade_right_col">
        <button id="working_upgrade_btn"   class="right_upgrade_btn upgrade_btn">Working Fire</button>
        <button id="first_upgrade_btn"     class="right_upgrade_btn upgrade_btn">1st Alarm</button>
        <button id="second_upgrade_btn"    class="right_upgrade_btn upgrade_btn">2nd Alarm</button>
        <button id="third_upgrade_btn"     class="right_upgrade_btn upgrade_btn">3rd Alarm</button>
        <button id="fourth_upgrade_btn"    class="right_upgrade_btn upgrade_btn">4th Alarm</button>
    </div>
</dialog>

<!-- OSR Dialog -->
<dialog id="osr_dlg" title="On Scene Report (OSR)" ng-controller="OsrDlg">
    <div id="osr_left_col">
        <button id="unit_osr_btn" class="osr_btn">Unit ID</button>
        <button id="address_left_osr_btn" class="osr_btn">Address</button>
        <button id="occupancy_osr_btn" class="osr_btn">Occupancy</button>
        <button id="construction_osr_btn" class="osr_btn">Construction</button>
        <button id="conditions_osr_btn" class="osr_btn">Conditions</button>
        <button id="assumecmd_osr_btn" class="osr_btn">Assume Command</button>
        <button id="location_osr_btn" class="osr_btn">Location(mobile/cab)</button>
        <button id="mode_osr_btn" class="osr_btn">Strategy (off./def.)</button>
        <button class="osr_btn">Attack line</button>
        <button class="osr_btn">Water supply</button>
        <button id="iric_osr_btn" class="osr_btn">IRIC</button>
        <button id="acct_osr_btn" class="osr_btn">Accountability</button>
    </div>
    <div id="osr_right_col">
        <button id="osr_address_btn">Dispatch Address</button>
        <select id="osr_select_type_of_building" class="osr_select">
            <option disabled="disabled" selected="selected">Type of building</option>
            <option>Residential Home</option>
            <option>Duplex</option>
            <option>Mobile Home</option>
            <option>Apartment</option>
            <option>Hotel</option>
            <option>Strip Mall</option>
            <option>Office Complex</option>
            <option>Big box Retail</option>
            <option>Specialized/Other</option>
        </select>

        <select id="osr_number_of_floors" class="osr_select">
            <option disabled="disabled" selected="selected">Number of floors</option>
            <option>1 floor</option>
            <option>2 floors</option>
            <option>3 floors</option>
            <option>4 floors</option>
            <option>5 floors</option>
            <option>6 floors</option>
            <option>7 floors</option>
            <option>8 floors</option>
            <option>9 floors</option>
            <option>10 floors</option>
            <option>11 floors</option>
            <option>12 floors</option>
            <option>13 floors</option>
            <option>14 floors</option>
            <option>15 floors</option>
            <option>16 floors</option>
            <option>17 floors</option>
            <option>18 floors</option>
            <option>19 floors</option>
            <option>20 floors</option>
            <option>21 floors</option>
            <option>22 floors</option>
            <option>23 floors</option>
            <option>24 floors</option>
            <option>25 floors</option>
        </select>
        <select id="osr_size_of_building" class="osr_select">
            <option disabled="disabled" selected="selected">Size of building</option>
            <option>Small building</option>
            <option>Medium building</option>
            <option>Large building</option>
        </select>

        <div class="osr_toggle_container_div">
            <button id="osr_occupancy_basement_btn" class="osr_toggle_btn">Basement</button>
            <button id="osr_occupancy_nobasement_btn" class="osr_toggle_btn">No Basement</button>
        </div>

        <select id="osr_select_type_of_construction" class="osr_select">
            <option disabled="disabled" selected="selected">Construction type</option>
            <option>Light weight construction</option>
            <option>Wood frame construction</option>
            <option>Block construction</option>
            <option>Brick construction</option>
            <option>Tilt slab construction</option>
            <option>Specialized/Other construction</option>
        </select>

        <select class="osr_select">
            <option disabled="disabled" selected="selected">Roof</option>
            <option>Pitched - tile roof</option>
            <option>Pitched - asphalt roof</option>
            <option>Pitched - wood shingle roof</option>
            <option>Flat roof</option>
            <option>Arched roof</option>
        </select>

        <select id="osr_select_conditions" class="osr_select">
            <option disabled="disabled" selected="selected">Conditions</option>
            <option>Nothing showing</option>
            <option>Smoke showing</option>
            <option>Smoke & Fire showing</option>
        </select>

        <div class="osr_toggle_container_div">
            <button id="osr_occupancy_mob_btn" class="osr_toggle_btn">Mobile</button>
            <button id="osr_occupancy_stat_btn" class="osr_toggle_btn">Stationary</button>
        </div>

        <div class="osr_toggle_container_div">
            <button id="osr_occupancy_off_btn" class="osr_toggle_btn">Offensive</button>
            <button id="osr_occupancy_def_btn" class="osr_toggle_btn">Defensive</button>
        </div>
    </div>
    <div style="width:100%" class="clear_float"></div>
</dialog> <!-- OSR Dialog -->

<!-- Objectives Dialog Unit Component Prototype -->
<dialog id="objectives_dlg" title="Objectives" ng-controller="ObjectivesDlg">
        <div id="objective_left_col">
            <button id="rescue_objective_btn" class="objective_btn">Upgrade to full recue</button>
            <button id="safety_objective_btn" class="objective_btn">Assing safety</button>
            <button id="establish_supply_objective_btn" class="objective_btn">Establish supply line</button>
            <button class="objective_btn">Secure utilities</button>
            <button class="objective_btn">Ventilation</button>
            <button id="ondeck_objective_btn" class="objective_btn">Create "On deck"</button>
            <button class="objective_btn">Pressurize exposures</button>
            <button class="objective_btn">Monitor channel 16</button>
            <button class="objective_btn">Salvage</button>
            <button id="rehab_objective_btn" class="objective_btn">Establish rehab</button>
            <button id="custsvc_objective_btn" class="objective_btn">Customer service</button>
        </div>
        <div id="objective_right_col"></div>
</dialog>

<!-- IAP Dialog -->
<dialog id="iap_dlg" title="Action Plan = Offensive or Defensive?" ng-controller="IapDlg">
    <table id="iap_table_main">
        <tr>
            <td class="iap_label_td">Critical Fireground Factors:</td>
            <td>
                <button class="iap_toggle_btn">Building</button>
                <button class="iap_toggle_btn">Fire</button>
                <button class="iap_toggle_btn">Occupancy</button>
                <button class="iap_toggle_btn">Life Hazard</button>
                <button class="iap_toggle_btn">Arrangement</button>
                <button class="iap_toggle_btn">Resources</button>
                <button class="iap_toggle_btn">Action Effect</button>
                <button class="iap_toggle_btn">Special</button>
                <div class="clear_float"></div>
            </td>
        </tr>
        <tr>
            <td class="iap_red_label iap_label_td">Rescue:</td>
            <td><textarea class="iap_input">Primary search</textarea></td>
        </tr>
        <tr>
            <td class="iap_blue_label iap_label_td">Fire Control:</td>
            <td>
                <textarea class="iap_input">Supply line, attack +2</textarea>
                <button id="iap_sprinkler_toggle_btn" class="iap_toggle_btn">Vent Sprinkler?</button>
            </td>
        </tr>
        <tr>
            <td class="iap_blue_label iap_label_td">Property/People:</td>
            <td>
                <textarea class="iap_input">Salvage</textarea>
                <button id="iap_btn_evacloc">Show Evacuation Location</button>
                <div class="clear_both"></div>
                <div id="iap_evacloc_input_container">
                    <textarea id="iap_evacloc_input">Evacuation Location</textarea>
                </div>
            </td>
        </tr>
        <tr>
            <td class="iap_red_label iap_label_td">Firefighter Safety:</td>
            <td><textarea class="iap_input">IRIC to Recue, Acct. locations, Safety, Rehab +1 unit</textarea></td>
        </tr>
    </table>
</dialog>
<!-- IAP Dialog -->

<!-- Unit Options Dialog -->
<dialog id="unit_options_dlg" title="Unit" ng-controller="UnitOptionsDlg">
    <div id="unit_people_dialog_row1" class="unit_people_dialog_row1">
        <button class="personnel_dlg_btn personnel_btn"
                ng-repeat="par in pars"
                ng-click="selectPar(par)"
                ng-class="{glow_orange: selected_unit.par==par}">{{par}}</button>
        <button class='reset_clock_btn'>
            <img class='clock_icon' src='img/clock.png'/>Reset Clock
        </button>
    </div>
    <div id="unit_people_dialog_row2" class="unit_people_dialog_row2">
        <button class="psi_dlg_btn psi_btn"
                ng-repeat="psi in psis"
                ng-click="selectPsi(psi)"
                ng-class="{psi_red:psi<1500, psi_yellow:psi<3000&&psi>=1500, psi_green:psi>=3000, glow_orange: selected_unit.psi==psi}">{{psi}}</button>
    </div>
</dialog>

<div id="version_text">Version: 0.0</div>

</body>
</html>
